parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"PBm5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.render=M,exports.hydrate=A,exports.h=exports.createElement=f,exports.Fragment=h,exports.createRef=d,exports.Component=y,exports.cloneElement=F,exports.createContext=R,exports.toChildArray=C,exports._unmount=W,exports.options=exports.isValidElement=void 0;var e,t,n,l,o,r,_,u={},i=[],s=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;function p(e,t){for(var n in t)e[n]=t[n];return e}function c(e){var t=e.parentNode;t&&t.removeChild(e)}function f(e,t,n){var l,o,r,_,u=arguments;if(t=p({},t),arguments.length>3)for(n=[n],l=3;l<arguments.length;l++)n.push(u[l]);if(null!=n&&(t.children=n),null!=e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===t[o]&&(t[o]=e.defaultProps[o]);return _=t.key,null!=(r=t.ref)&&delete t.ref,null!=_&&delete t.key,a(e,t,_,r)}function a(t,n,l,o){var r={type:t,props:n,key:l,ref:o,__k:null,__p:null,__b:0,__e:null,l:null,__c:null,constructor:void 0};return e.vnode&&e.vnode(r),r}function d(){return{}}function h(e){return e.children}function v(e){if(null==e||"boolean"==typeof e)return null;if("string"==typeof e||"number"==typeof e)return a(null,e,null,null);if(null!=e.__e||null!=e.__c){var t=a(e.type,e.props,e.key,null);return t.__e=e.__e,t}return e}function y(e,t){this.props=e,this.context=t}function m(e,t){if(null==t)return e.__p?m(e.__p,e.__p.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?m(e):null}function k(e){var t,n;if(null!=(e=e.__p)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return k(e)}}function g(t){(!t.__d&&(t.__d=!0)&&1===n.push(t)||o!==e.debounceRendering)&&(o=e.debounceRendering,(e.debounceRendering||l)(x))}function x(){var e,t,l,o,r,_,u;for(n.sort(function(e,t){return t.__v.__b-e.__v.__b});e=n.pop();)e.__d&&(l=void 0,o=void 0,_=(r=(t=e).__v).__e,(u=t.__P)&&(l=[],o=U(u,r,p({},r),t.__n,void 0!==u.ownerSVGElement,null,l,null==_?m(r):_),N(l,r),o!=_&&k(r)))}function b(e,t,n,l,o,r,_,s,p){var f,a,d,h,v,y,k,g=n&&n.__k||i,x=g.length;if(s==u&&(s=null!=r?r[0]:x?m(n,0):null),f=0,t.__k=C(t.__k,function(n){if(null!=n){if(n.__p=t,n.__b=t.__b+1,null===(d=g[f])||d&&n.key==d.key&&n.type===d.type)g[f]=void 0;else for(a=0;a<x;a++){if((d=g[a])&&n.key==d.key&&n.type===d.type){g[a]=void 0;break}d=null}if(h=U(e,n,d=d||u,l,o,r,_,s,p),(a=n.ref)&&d.ref!=a&&(k||(k=[])).push(a,n.__c||h,n),null!=h){if(null==y&&(y=h),null!=n.l)h=n.l,n.l=null;else if(r==d||h!=s||null==h.parentNode){e:if(null==s||s.parentNode!==e)e.appendChild(h);else{for(v=s,a=0;(v=v.nextSibling)&&a<x;a+=2)if(v==h)break e;e.insertBefore(h,s)}"option"==t.type&&(e.value="")}s=h.nextSibling,"function"==typeof t.type&&(t.l=h)}}return f++,n}),t.__e=y,null!=r&&"function"!=typeof t.type)for(f=r.length;f--;)null!=r[f]&&c(r[f]);for(f=x;f--;)null!=g[f]&&W(g[f],g[f]);if(k)for(f=0;f<k.length;f++)T(k[f],k[++f],k[++f])}function C(e,t,n){if(null==n&&(n=[]),null==e||"boolean"==typeof e)t&&n.push(t(null));else if(Array.isArray(e))for(var l=0;l<e.length;l++)C(e[l],t,n);else n.push(t?t(v(e)):e);return n}function w(e,t,n,l,o){var r;for(r in n)r in t||P(e,r,null,n[r],l);for(r in t)o&&"function"!=typeof t[r]||"value"===r||"checked"===r||n[r]===t[r]||P(e,r,t[r],n[r],l)}function S(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]="number"==typeof n&&!1===s.test(t)?n+"px":null==n?"":n}function P(e,t,n,l,o){var r,_,u,i,s;if("key"===(t=o?"className"===t?"class":t:"class"===t?"className":t)||"children"===t);else if("style"===t)if(r=e.style,"string"==typeof n)r.cssText=n;else{if("string"==typeof l&&(r.cssText="",l=null),l)for(_ in l)n&&_ in n||S(r,_,"");if(n)for(u in n)l&&n[u]===l[u]||S(r,u,n[u])}else"o"===t[0]&&"n"===t[1]?(i=t!==(t=t.replace(/Capture$/,"")),s=t.toLowerCase(),t=(s in e?s:t).slice(2),n?(l||e.addEventListener(t,E,i),(e.u||(e.u={}))[t]=n):e.removeEventListener(t,E,i)):"list"!==t&&"tagName"!==t&&"form"!==t&&!o&&t in e?e[t]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==n||!1===n?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n):null==n||!1===n?e.removeAttribute(t):e.setAttribute(t,n))}function E(t){return this.u[t.type](e.event?e.event(t):t)}function U(t,n,l,o,r,_,u,i,s){var c,f,a,d,v,m,k,g,x,w,S=n.type;if(void 0!==n.constructor)return null;(c=e.__b)&&c(n);try{e:if("function"==typeof S){if(g=n.props,x=(c=S.contextType)&&o[c.__c],w=c?x?x.props.value:c.__p:o,l.__c?k=(f=n.__c=l.__c).__p=f.__E:("prototype"in S&&S.prototype.render?n.__c=f=new S(g,w):(n.__c=f=new y(g,w),f.constructor=S,f.render=L),x&&x.sub(f),f.props=g,f.state||(f.state={}),f.context=w,f.__n=o,a=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=S.getDerivedStateFromProps&&p(f.__s==f.state?f.__s=p({},f.__s):f.__s,S.getDerivedStateFromProps(g,f.__s)),a)null==S.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&u.push(f);else{if(null==S.getDerivedStateFromProps&&null==f.t&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(g,w),!f.t&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(g,f.__s,w)){for(f.props=g,f.state=f.__s,f.__d=!1,f.__v=n,n.__e=l.__e,n.__k=l.__k,c=0;c<n.__k.length;c++)n.__k[c]&&(n.__k[c].__p=n);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(g,f.__s,w)}d=f.props,v=f.state,f.context=w,f.props=g,f.state=f.__s,(c=e.__r)&&c(n),f.__d=!1,f.__v=n,f.__P=t,c=f.render(f.props,f.state,f.context),n.__k=C(null!=c&&c.type==h&&null==c.key?c.props.children:c),null!=f.getChildContext&&(o=p(p({},o),f.getChildContext())),a||null==f.getSnapshotBeforeUpdate||(m=f.getSnapshotBeforeUpdate(d,v)),b(t,n,l,o,r,_,u,i,s),f.base=n.__e,c=f.__h,f.__h=[],c.some(function(e){e.call(f)}),a||null==d||null==f.componentDidUpdate||f.componentDidUpdate(d,v,m),k&&(f.__E=f.__p=null),f.t=null}else n.__e=D(l.__e,n,l,o,r,_,u,s);(c=e.diffed)&&c(n)}catch(t){e.__e(t,n,l)}return n.__e}function N(t,n){for(var l;l=t.pop();)try{l.componentDidMount()}catch(t){e.__e(t,l.__v)}e.__c&&e.__c(n)}function D(e,t,n,l,o,r,_,s){var p,c,f,a,d,h=n.props,v=t.props;if(o="svg"===t.type||o,null==e&&null!=r)for(p=0;p<r.length;p++)if(null!=(c=r[p])&&(null===t.type?3===c.nodeType:c.localName===t.type)){e=c,r[p]=null;break}if(null==e){if(null===t.type)return document.createTextNode(v);e=o?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type),r=null}if(null===t.type)null!=r&&(r[r.indexOf(e)]=null),h!==v&&(e.data=v);else if(t!==n){if(null!=r&&(r=i.slice.call(e.childNodes)),f=(h=n.props||u).dangerouslySetInnerHTML,a=v.dangerouslySetInnerHTML,!s){if(h===u)for(h={},d=0;d<e.attributes.length;d++)h[e.attributes[d].name]=e.attributes[d].value;(a||f)&&(a&&f&&a.__html==f.__html||(e.innerHTML=a&&a.__html||""))}w(e,v,h,o,s),t.__k=t.props.children,a||b(e,t,n,l,"foreignObject"!==t.type&&o,r,_,u,s),s||("value"in v&&void 0!==v.value&&v.value!==e.value&&(e.value=null==v.value?"":v.value),"checked"in v&&void 0!==v.checked&&v.checked!==e.checked&&(e.checked=v.checked))}return e}function T(t,n,l){try{"function"==typeof t?t(n):t.current=n}catch(t){e.__e(t,l)}}function W(t,n,l){var o,r,_;if(e.unmount&&e.unmount(t),(o=t.ref)&&T(o,null,n),l||"function"==typeof t.type||(l=null!=(r=t.__e)),t.__e=t.l=null,null!=(o=t.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(t){e.__e(t,n)}o.base=o.__P=null}if(o=t.__k)for(_=0;_<o.length;_++)o[_]&&W(o[_],n,l);null!=r&&c(r)}function L(e,t,n){return this.constructor(e,n)}function M(t,n,l){var o,_,s;e.__p&&e.__p(t,n),_=(o=l===r)?null:l&&l.__k||n.__k,t=f(h,null,[t]),s=[],U(n,o?n.__k=t:(l||n).__k=t,_||u,u,void 0!==n.ownerSVGElement,l&&!o?[l]:_?null:i.slice.call(n.childNodes),s,l||u,o),N(s,t)}function A(e,t){M(e,t,r)}function F(e,t){return t=p(p({},e.props),t),arguments.length>2&&(t.children=i.slice.call(arguments,2)),a(e.type,t,t.key||e.key,t.ref||e.ref)}function R(e){var t={},n={__c:"__cC"+_++,__p:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var l,o=this;return this.getChildContext||(l=[],this.getChildContext=function(){return t[n.__c]=o,t},this.shouldComponentUpdate=function(t){e.value!==t.value&&l.some(function(e){e.__P&&(e.context=t.value,g(e))})},this.sub=function(e){l.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){l.splice(l.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Consumer.contextType=n,n}exports.isValidElement=t,exports.options=e,exports.options=e={},exports.isValidElement=t=function(e){return null!=e&&void 0===e.constructor},y.prototype.setState=function(e,t){var n=this.__s!==this.state&&this.__s||(this.__s=p({},this.state));("function"!=typeof e||(e=e(n,this.props)))&&p(n,e),null!=e&&this.__v&&(this.t=!1,t&&this.__h.push(t),g(this))},y.prototype.forceUpdate=function(e){this.__v&&(this.t=!0,e&&this.__h.push(e),g(this))},y.prototype.render=h,n=[],l="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,o=e.debounceRendering,e.__e=function(e,t,n){for(var l;t=t.__p;)if((l=t.__c)&&!l.__p)try{if(l.constructor&&null!=l.constructor.getDerivedStateFromError)l.setState(l.constructor.getDerivedStateFromError(e));else{if(null==l.componentDidCatch)continue;l.componentDidCatch(e)}return g(l.__E=l)}catch(t){e=t}throw e},r=u,_=0;
},{}],"2o0e":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useState=c,exports.useReducer=f,exports.useEffect=a,exports.useLayoutEffect=_,exports.useRef=p,exports.useImperativeHandle=v,exports.useMemo=m,exports.useCallback=l,exports.useContext=H,exports.useDebugValue=d;var n,t,e=require("preact"),o=[],u=e.options.__r;e.options.__r=function(e){u&&u(e),n=0,(t=e.__c).__H&&(t.__H.t=q(t.__H.t))};var r=e.options.diffed;e.options.diffed=function(n){r&&r(n);var t=n.__c;if(t){var e=t.__H;e&&(e.u=(e.u.some(function(n){n.ref&&(n.ref.current=n.createHandle())}),[]),e.i=q(e.i))}};var i=e.options.unmount;function s(n){e.options.__h&&e.options.__h(t);var o=t.__H||(t.__H={o:[],t:[],i:[],u:[]});return n>=o.o.length&&o.o.push({}),o.o[n]}function c(n){return f(E,n)}function f(e,o,u){var r=s(n++);return r.__c||(r.__c=t,r.v=[u?u(o):E(void 0,o),function(n){var t=e(r.v[0],n);r.v[0]!==t&&(r.v[0]=t,r.__c.setState({}))}]),r.v}function a(e,o){var u=s(n++);y(u.m,o)&&(u.v=e,u.m=o,t.__H.t.push(u),x(t))}function _(e,o){var u=s(n++);y(u.m,o)&&(u.v=e,u.m=o,t.__H.i.push(u))}function p(n){return m(function(){return{current:n}},[])}function v(e,o,u){var r=s(n++);y(r.m,u)&&(r.m=u,t.__H.u.push({ref:e,createHandle:o}))}function m(t,e){var o=s(n++);return y(o.m,e)?(o.m=e,o.p=t,o.v=t()):o.v}function l(n,t){return m(function(){return n},t)}function H(e){var o=t.context[e.__c];if(!o)return e.__p;var u=s(n++);return null==u.v&&(u.v=!0,o.sub(t)),o.props.value}function d(n,t){e.options.useDebugValue&&e.options.useDebugValue(t?t(n):n)}e.options.unmount=function(n){i&&i(n);var t=n.__c;if(t){var e=t.__H;e&&e.o.forEach(function(n){return n.l&&n.l()})}};var x=function(){};function h(){o.some(function(n){n.s=!1,n.__P&&(n.__H.t=q(n.__H.t))}),o=[]}if("undefined"!=typeof window){var b=e.options.requestAnimationFrame;x=function(n){(!n.s&&(n.s=!0)&&1===o.push(n)||b!==e.options.requestAnimationFrame)&&(b=e.options.requestAnimationFrame,(e.options.requestAnimationFrame||function(n){var t=function(){clearTimeout(e),cancelAnimationFrame(o),setTimeout(n)},e=setTimeout(t,100),o=requestAnimationFrame(t)})(h))}}function q(n){return n.forEach(A),n.forEach(F),[]}function A(n){n.l&&n.l()}function F(n){var t=n.v();"function"==typeof t&&(n.l=t)}function y(n,t){return!n||t.some(function(t,e){return t!==n[e]})}function E(n,t){return"function"==typeof t?t(n):t}
},{"preact":"PBm5"}],"QBQ+":[function(require,module,exports) {

},{}],"W+FR":[function(require,module,exports) {

},{"./icons.css":"QBQ+","./tooltips.css":"QBQ+"}],"bvnL":[function(require,module,exports) {
"use strict";function e(t){var o,r,f="";if(t)if("object"==typeof t)if(t.push)for(o=0;o<t.length;o++)t[o]&&(r=e(t[o]))&&(f&&(f+=" "),f+=r);else for(o in t)t[o]&&(r=e(o))&&(f&&(f+=" "),f+=r);else"boolean"==typeof t||t.call||(f&&(f+=" "),f+=t);return f}function t(){for(var t,o=0,r="";o<arguments.length;)(t=e(arguments[o++]))&&(r&&(r+=" "),r+=t);return r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"if+i":[function(require,module,exports) {
module.exports="loading-spinner.6bfd50e7.svg";
},{}],"KfNQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LoadingSpinner=void 0;var e=require("preact"),n=r(require("clsx"));function r(e){return e&&e.__esModule?e:{default:e}}require("./loading-spinner.css");const i=require("./loading-spinner.svg"),s=()=>(0,e.h)("img",{src:i,alt:"Loading spinner"}),o=r=>(0,e.h)("div",{className:(0,n.default)("loading-spinner",{"loading-spinner--container":!r.solo})},(0,e.h)(s,null));exports.LoadingSpinner=o;
},{"preact":"PBm5","clsx":"bvnL","./loading-spinner.css":"QBQ+","./loading-spinner.svg":"if+i"}],"ri7X":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Paper=void 0;var e=require("preact"),r=s(require("clsx"));function s(e){return e&&e.__esModule?e:{default:e}}require("./paper.css");const t=s=>{const{children:t}=s;return(0,e.h)("div",{className:(0,r.default)("paper",s.className)},t)};exports.Paper=t;
},{"preact":"PBm5","clsx":"bvnL","./paper.css":"QBQ+"}],"lMFQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LhrViewerLink=void 0;var e=require("preact"),t=r(require("clsx"));function r(e){return e&&e.__esModule?e:{default:e}}const s=r=>{const{children:s,lhr:o}=r;return(0,e.h)("span",{className:(0,t.default)("lhr-viewer-link",r.className),onClick:e=>{e.preventDefault(),e.stopImmediatePropagation();const t="https://googlechrome.github.io";window.addEventListener("message",function e(r){r.origin===t&&i&&r.data.opened&&(i.postMessage({lhresults:o},t),window.removeEventListener("message",e))});const r=o.fetchTime,s=`${o.lighthouseVersion}-${o.requestedUrl}-${r}`,i=window.open(`${t}/lighthouse/viewer`,s)}},s)};exports.LhrViewerLink=s;
},{"preact":"PBm5","clsx":"bvnL"}],"1Ceq":[function(require,module,exports) {
module.exports="favicon.5ff0c208.svg";
},{}],"E4rS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LhrViewerButton=void 0;var e=require("preact"),r=require("./lhr-viewer-link");require("./lhr-viewer-button.css");const t=require("../favicon.svg"),i=i=>{const{lhr:o,label:n="Open Report"}=i;return(0,e.h)(r.LhrViewerLink,{lhr:o},(0,e.h)("div",{className:"lhr-viewer-button",role:"button"},(0,e.h)("img",{src:t})," ",(0,e.h)("span",null,n)))};exports.LhrViewerButton=i;
},{"preact":"PBm5","./lhr-viewer-link":"lMFQ","./lhr-viewer-button.css":"QBQ+","../favicon.svg":"1Ceq"}],"9Lgp":[function(require,module,exports) {
module.exports="confetti.871084ec.svg";
},{}],"OozT":[function(require,module,exports) {
module.exports="logo.da01b9a5.svg";
},{}],"jSTM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"LoadingSpinner",{enumerable:!0,get:function(){return r.LoadingSpinner}}),Object.defineProperty(exports,"Paper",{enumerable:!0,get:function(){return t.Paper}}),Object.defineProperty(exports,"LhrViewerButton",{enumerable:!0,get:function(){return n.LhrViewerButton}}),exports.LH_LOGO_PATH=exports.CONFETTI_PATH=void 0;var e=require("preact"),r=require("../../../../server/src/ui/components/loading-spinner.jsx"),t=require("../../../../server/src/ui/components/paper.jsx"),n=require("../../../../server/src/ui/components/lhr-viewer-button.jsx");const o=require("../../../../server/src/ui/routes/project-list/confetti.svg");exports.CONFETTI_PATH=o;const s=require("../../../../server/src/ui/logo.svg");exports.LH_LOGO_PATH=s;
},{"preact":"PBm5","../../../../server/src/ui/components/loading-spinner.jsx":"KfNQ","../../../../server/src/ui/components/paper.jsx":"ri7X","../../../../server/src/ui/components/lhr-viewer-button.jsx":"E4rS","../../../../server/src/ui/routes/project-list/confetti.svg":"9Lgp","../../../../server/src/ui/logo.svg":"OozT"}],"7RqH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseStringAsLhr=o,exports.computeBestDisplayType=s,exports.ReportUploadBox=void 0;var e=require("preact");require("./report-upload-box.css");var t=require("./lhci-components"),r=require("preact/hooks"),a=n(require("clsx"));function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e.includes("<script>window.__LIGHTHOUSE_JSON__ = ")){const t=e.match(/window\.__LIGHTHOUSE_JSON__ = (.*?});<\/script>/);t&&(e=t[1])}if("{"===e.trim().charAt(0))try{const r=JSON.parse(e);return r.lighthouseVersion?r:new Error("JSON did not contain a lighthouseVersion")}catch(t){return new Error(`File was not valid JSON (${t.message})`)}return new Error("File was not a valid report")}function s(e,t){const r=new URL(e.finalUrl),a=new URL(t.finalUrl);return r.hostname!==a.hostname?"hostname":r.pathname!==a.pathname?"pathname":r.search!==a.search?"path":r.pathname.length<5?"timestamp-hostname":"timestamp-pathname"}const i=t=>{const{filename:r,lhr:a}=t.report,n=new URL(a.finalUrl),o=new Date(a.fetchTime).toLocaleString(),s={filename:r,hostname:n.hostname,pathname:n.pathname,path:`${n.pathname}${n.search}`,"timestamp-hostname":`${o} (${n.hostname})`,"timestamp-pathname":`${o} (${n.pathname})`},i=`${n.href} at ${o}`;return(0,e.h)("span",{title:i},s[t.displayType])};function p(e,t){const r=t[0].name,a=new FileReader;a.readAsText(t[0],"utf-8"),a.addEventListener("load",()=>{if("string"!=typeof a.result)return void e.addToast({message:"File was not readable as text!",level:"error"});const t=o(a.result);t instanceof Error?e.addToast({message:`Invalid file: ${t.message}`,level:"error"}):e.setReport({filename:r,data:a.result,lhr:t})}),a.addEventListener("error",()=>{e.addToast({message:"File was not readable!",level:"error"})})}function l(e,t,r,a){a.target instanceof HTMLElement&&(t.isDragging&&t.dragTarget===a.target||(a.stopPropagation(),a.preventDefault(),r({isDragging:!0,dragTarget:a.target})))}function d(e,t,r,a){a.target===t.dragTarget&&(a.stopPropagation(),a.preventDefault(),r({isDragging:!1,dragTarget:void 0}))}function u(e,t,r,a){t.dragTarget&&(a.stopPropagation(),a.preventDefault())}function g(e,t,r,a){t.dragTarget&&a instanceof DragEvent&&a.dataTransfer&&(a.stopPropagation(),a.preventDefault(),r({isDragging:!1,dragTarget:void 0}),p(e,a.dataTransfer.files))}const c=n=>{const[o,s]=(0,r.useState)({isDragging:!1,dragTarget:void 0});return(0,r.useEffect)(()=>{if("document"!==n.dragTarget)return;const e=e=>l(n,o,s,e),t=e=>d(n,o,s,e),r=e=>u(n,o,s,e),a=e=>g(n,o,s,e);return document.addEventListener("dragenter",e),document.addEventListener("dragleave",t),document.addEventListener("dragover",r),document.addEventListener("drop",a),()=>{document.removeEventListener("dragenter",e),document.removeEventListener("dragleave",t),document.removeEventListener("dragover",r),document.removeEventListener("drop",a)}},[n.dragTarget,n.addToast,n.setReport,o,s]),(0,e.h)("div",{className:(0,a.default)(`report-upload-box report-upload-box--${n.variant}`,{"report-upload-box--drop":o.isDragging}),onDragEnter:e=>l(n,o,s,e),onDragLeave:e=>d(n,o,s,e),onDragOver:e=>u(n,o,s,e),onDrop:e=>g(n,o,s,e)},(0,e.h)("div",{className:"report-upload-box__drop-outline"},"Drop your report to upload"),(0,e.h)("span",{className:"report-upload-box__label"},"base"===n.variant?"Base":"Compare"),(0,e.h)("div",{className:"report-upload-box__file"},n.report?(0,e.h)(i,{report:n.report,displayType:n.displayType}):(0,e.h)(e.Fragment,null)),(0,e.h)("div",{className:"report-upload-box__lhr-link"},n.report&&n.showOpenLhrLink?(0,e.h)(t.LhrViewerButton,{lhr:n.report.lhr,label:"View Report"}):null),(0,e.h)("div",{className:"report-upload-box__spacer"}),(0,e.h)("label",{className:"report-upload-box__upload"},"Upload",(0,e.h)("input",{type:"file",style:{display:"none"},onChange:e=>{const t=e.target;if(!(t instanceof HTMLInputElement))return;const r=t.files;r&&1===r.length&&p(n,r)}})))};exports.ReportUploadBox=c;
},{"preact":"PBm5","./report-upload-box.css":"QBQ+","./lhci-components":"jSTM","preact/hooks":"2o0e","clsx":"bvnL"}],"tQ/K":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LandingRoute=void 0;var e=require("preact");require("./landing.css");var a=require("../../components/lhci-components.jsx"),o=require("../../components/report-upload-box");const r=r=>(0,e.h)("div",{className:"landing"},(0,e.h)("div",{className:"landing__background"},(0,e.h)("img",{src:a.CONFETTI_PATH,alt:"Lighthouse CI Background Image"})),(0,e.h)(a.Paper,{className:"landing__paper"},(0,e.h)("a",{className:"landing__info-icon",href:"https://github.com/GoogleChrome/lighthouse-ci",target:"_blank",rel:"noopener noreferrer"},(0,e.h)("i",{className:"material-icons"},"info")),(0,e.h)("img",{className:"landing__logo",src:a.LH_LOGO_PATH,alt:"Lighthouse Logo"}),(0,e.h)("h1",null,"Lighthouse CI Diff"),(0,e.h)("span",null,"Drag or upload two Lighthouse reports to start comparing!"),(0,e.h)("div",{className:"landing__upload"},(0,e.h)(o.ReportUploadBox,{variant:"base",report:r.baseReport,setReport:r.setBaseReport,addToast:r.addToast,displayType:"filename",dragTarget:r.baseReport?"self":"document"}),(0,e.h)(o.ReportUploadBox,{variant:"compare",report:r.compareReport,setReport:r.setCompareReport,addToast:r.addToast,displayType:"filename",dragTarget:r.baseReport?"document":"self"}))));exports.LandingRoute=r;
},{"preact":"PBm5","./landing.css":"QBQ+","../../components/lhci-components.jsx":"jSTM","../../components/report-upload-box":"7RqH"}],"OuB2":[function(require,module,exports) {
"use strict";function e(t,n){if(Array.isArray(t)){if(!Array.isArray(n))return n;for(let r=0;r<Math.max(t.length,n.length);r++)t[r]=r<n.length?e(t[r],n[r]):t[r];return t}if("object"==typeof t&&null!==t){if("object"!=typeof n||null===n)return n;const r=t,o=n,s=new Set(Object.keys(r)),c=new Set(Object.keys(o));for(const t of new Set([...s,...c]))r[t]=t in o?e(r[t],o[t]):r[t];return t}return n}function t(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function n(e,t){const n=new Map;for(const r of e){const e=t(r),o=n.get(e)||[];o.push(r),n.set(e,o)}return n}module.exports={merge:e,kebabCase:t,range(e,t,n=1){const r=[];for(let o=e;o<t;o+=n)r.push(o);return r},startCase:e=>t(e).split("-").map(e=>`${e.slice(0,1).toUpperCase()}${e.slice(1)}`).join(" "),padStart:(e,t,n=" ")=>e.length>=t?e:`${n.repeat(t)}${e}`.slice(-t),padEnd:(e,t,n=" ")=>e.length>=t?e:`${e}${n.repeat(t)}`.slice(0,t),cloneDeep:e=>JSON.parse(JSON.stringify(e)),uniqBy(e,t){const n=new Set,r=[];for(const o of e){const e=t(o);n.has(e)||(n.add(e),r.push(o))}return r},groupBy:(e,t)=>[...n(e,t).values()],groupIntoMap:n,pick(e,t){const n={};for(const[r,o]of Object.entries(e)){const e=r;t.includes(e)&&(n[e]=o)}return n},omit(e,t,n={}){const r={};for(const[o,s]of Object.entries(e)){const e=o;t.includes(e)||(n.dropUndefined&&void 0===s||(r[e]=s))}return r},shortId:e=>e.replace(/-/g,"").slice(0,12)};
},{}],"On24":[function(require,module,exports) {
"use strict";const e=require("./lodash.js");function t(e,t="audit"){if(0===e)return"neutral";let r=e<0;return"score"===t&&(r=e>0),r?"improvement":"regression"}function r(e){switch(e.type){case"error":return"regression";case"score":return t(l(e).delta,"score");case"numericValue":case"itemCount":case"itemDelta":return t(l(e).delta,"audit");case"itemAddition":return"regression";case"itemRemoval":return"improvement";default:return"neutral"}}function a(e){if(!e.length)return"no change";if(e.some(e=>"itemAddition"===e.type))return"added";if(e.some(e=>"itemRemoval"===e.type))return"removed";const t=e.filter(e=>"itemDelta"===e.type);return t.every(e=>e.compareValue>e.baseValue)?"worse":t.every(e=>e.compareValue<e.baseValue)?"better":t.length?"ambiguous":"no change"}function n(e,t,r){return e.filter(e=>{const a="compareItemIndex"in e?e.compareItemIndex:void 0,n="baseItemIndex"in e?e.baseItemIndex:void 0;return"number"==typeof a?a===t:"number"==typeof n&&n===r})}function i(e,t,r){return a(n(e,t,r))}function o(e,t,r){const a=n(e,t,r).filter(u);if(a.length)return Math.max(...a.map(e=>l(e).delta))}function s(e){return e.some(e=>"regression"===e)?"regression":e.some(e=>"neutral"===e)?"neutral":"improvement"}function u(e){return["score","numericValue","itemCount","itemDelta"].includes(e.type)}function m(e){return"number"!=typeof e?"error":e>=.9?"pass":e>=.5?"average":"fail"}function p(e){const t=u(e)?l(e).absoluteDelta:0;return"error"===e.type?1e12:"score"===e.type?1e10*t:"numericValue"===e.type?1e8*Math.max(t/1e3,1):"itemCount"===e.type?1e6*t:"itemAddition"===e.type?1e5:"itemRemoval"===e.type?1e5:"itemDelta"===e.type?Math.min(Math.max(t/100,1),99999):0}function l(e){const{baseValue:t,compareValue:r}=e,a=r-t,n=Math.abs(a);if(0===a)return{delta:a,absoluteDelta:n,percentDelta:0,percentAbsoluteDelta:0};const i=t?a/t:1;return{delta:a,absoluteDelta:n,percentDelta:i,percentAbsoluteDelta:Math.abs(i)}}function c(e){const{auditId:t,type:r,baseValue:a,compareValue:n,baseItemIndex:i,compareItemIndex:o,itemKey:s}=e;if("itemAddition"===r){if("number"!=typeof o)throw new Error("compareItemIndex is not set");return{auditId:t,type:r,compareItemIndex:o}}if("itemRemoval"===r){if("number"!=typeof i)throw new Error("baseItemIndex is not set");return{auditId:t,type:r,baseItemIndex:i}}if("displayValue"===r)throw new Error("Do not use createAuditDiff for displayValue, just manually create");if("number"!=typeof n||"number"!=typeof a||!Number.isFinite(a)||!Number.isFinite(n)||"error"===r)return{auditId:t,type:"error",attemptedType:r,baseValue:a||NaN,compareValue:n||NaN};const u={auditId:t,type:"score",baseValue:a,compareValue:n};if("itemDelta"===r){if("string"!=typeof s)throw new Error("itemKey is not set");if("number"!=typeof i&&"number"!=typeof o)throw new Error("Either baseItemIndex or compareItemIndex must be set");return{...u,type:"itemDelta",baseItemIndex:i,compareItemIndex:o,itemKey:s}}return{...u,type:r}}function d(e,t,r,a){const n=[];for(const i of Object.keys(t.item)){const o=t.item[i],s=r.item[i];"number"==typeof o&&"number"==typeof s&&(a.some(e=>e.key===i)&&n.push(c({auditId:e,type:"itemDelta",itemKey:i,baseItemIndex:t.index,compareItemIndex:r.index,baseValue:o,compareValue:s})))}return n}function f(e,t,r){const a=[];for(const n of e){if("itemAddition"!==n.type&&"itemRemoval"!==n.type)continue;const e="itemAddition"===n.type?r[n.compareItemIndex]:t[n.baseItemIndex];for(const t of Object.keys(e)){const r="itemAddition"===n.type?0:e[t],i="itemAddition"===n.type?e[t]:0;if("number"!=typeof i||"number"!=typeof r)continue;const o="itemAddition"===n.type?"compareItemIndex":"baseItemIndex",s="itemAddition"===n.type?n.compareItemIndex:n.baseItemIndex;a.push(c({auditId:n.auditId,type:"itemDelta",itemKey:t,[o]:s,baseValue:r,compareValue:i}))}}return a}function y(e){return e.replace(/www-embed-player-[0-9a-z]+/i,"www-embed-player").replace(/player_ias-[0-9a-z]+/i,"player_ias").replace(/\b[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}\b/gi,"UUID").replace(/:[0-9]{3,5}\//,":PORT/").replace(/(\.|-)[0-9a-f]{8}\.(js|css|woff|html|png|jpeg|jpg|svg)/i,"$1HASH.$2")}function b(e){return"string"==typeof e.url?e.url:"string"==typeof e.label?e.label:"string"==typeof e.groupLabel?e.groupLabel:"string"==typeof e.name?e.name:"string"==typeof e.statistic?e.statistic:e.entity&&"string"==typeof e.entity.text?e.entity.text:JSON.stringify(e)}function I(t,r){const a=e.groupIntoMap([...t.map((e,t)=>({item:e,kind:"base",index:t})),...r.map((e,t)=>({item:e,kind:"compare",index:t}))],e=>y(b(e.item))),n=[];for(const e of a.values()){const t=e.filter(e=>"base"===e.kind),r=e.filter(e=>"compare"===e.kind);if(t.length>1||r.length>1)for(const a of e)n.push({[a.kind]:a});else n.push({base:t[0],compare:r[0]})}return n}function g(e,t){const r=["added","worse","ambiguous","removed","better","no change"];return t.map(t=>({...t,diffs:n(e,t.compare&&t.compare.index,t.base&&t.base.index)})).sort((t,a)=>{const n=t.compare&&t.compare.index,s=t.base&&t.base.index,u=a.compare&&a.compare.index,m=a.base&&a.base.index,p=r.indexOf(i(e,n,s)),l=r.indexOf(i(e,u,m)),c=b(t.compare&&t.compare.item||t.base&&t.base.item||{}),d=b(a.compare&&a.compare.item||a.base&&a.base.item||{}),f=o(e,n,s),y=o(e,u,m);return p===l?"number"==typeof f&&"number"==typeof y?y-f:c.localeCompare(d):p-l})}function h(e,t,r,a){const n=[];for(const{base:i,compare:o}of I(t,r))if(i&&o)n.push(...d(e,i,o,a));else if(o)n.push({type:"itemAddition",auditId:e,compareItemIndex:o.index});else{if(!i)throw new Error("Impossible");n.push({type:"itemRemoval",auditId:e,baseItemIndex:i.index})}return n}function V(e){return"notApplicable"===e.scoreDisplayMode?1:"informative"===e.scoreDisplayMode?0:e.score}function x(e){return"number"!=typeof e.numericValue&&e.details&&"number"==typeof e.details.overallSavingsMs?e.details.overallSavingsMs:e.numericValue}function D(e){return"notApplicable"===e.scoreDisplayMode?0:x(e)}function v(e){return e.details?{items:e.details.items||[],headings:e.details.headings||[]}:{items:[],headings:[]}}function w(e,t,r={}){const a=e.id||"",{percentAbsoluteDeltaThreshold:n=0}=r,i=[];"number"!=typeof e.score&&"number"!=typeof t.score||i.push(c({auditId:a,type:"score",baseValue:V(e),compareValue:V(t)})),"number"!=typeof x(e)&&"number"!=typeof x(t)||i.push(c({auditId:a,type:"numericValue",baseValue:D(e),compareValue:D(t)})),"string"!=typeof e.displayValue&&"string"!=typeof t.displayValue||i.push({auditId:a,type:"displayValue",baseValue:e.displayValue||"",compareValue:t.displayValue||""});let o=!1;if(e.details&&e.details.items||t.details&&t.details.items){o=!0;const{items:n,headings:s}=v(e),{items:u,headings:m}=v(t),p=s.concat(m);i.push(c({auditId:a,type:"itemCount",baseValue:n.length,compareValue:u.length})),i.push(...h(a,n,u,p)),r.synthesizeItemKeyDiffs&&i.push(...f(i,n,u))}const s=i.filter(e=>"error"===e.type||("itemAddition"===e.type||"itemRemoval"===e.type||("score"!==e.type||r.forceAllScoreDiffs?"displayValue"===e.type?e.baseValue!==e.compareValue&&!r.skipDisplayValueDiffs:l(e).percentAbsoluteDelta>n:m(e.baseValue)!==m(e.compareValue))));if(1===s.length&&"displayValue"===s[0].type)return[];const u=1===t.score&&1===e.score;return s.every(e=>"displayValue"===e.type||"numericValue"===e.type)&&(u||o)?[]:s}module.exports={findAuditDiffs:w,getDiffSeverity:p,getDeltaLabel:t,getDeltaStats:l,getDiffLabel:r,getRowLabel:a,getRowLabelForIndex:i,getMostSevereDiffLabel:s,zipBaseAndCompareItems:I,synthesizeItemKeyDiffs:f,sortZippedBaseAndCompareItems:g,replaceNondeterministicStrings:y};
},{"./lodash.js":"OuB2"}],"1Sha":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Dropdown=void 0;var e=require("preact"),a=l(require("clsx"));function l(e){return e&&e.__esModule?e:{default:e}}require("./dropdown.css");const o=l=>{const{options:o,value:t,setValue:r,className:s,title:n,label:d}=l;return(0,e.h)("div",{className:(0,a.default)("dropdown",s),style:{position:"relative"},"data-tooltip":n},(0,e.h)("label",null,d?(0,e.h)("span",{className:"dropdown__label"},d):(0,e.h)(e.Fragment,null),(0,e.h)("select",{onChange:e=>{e.target instanceof HTMLSelectElement&&r(e.target.value)}},o.map(a=>(0,e.h)("option",{key:a.value,value:a.value,selected:a.value===t},a.label)))),(0,e.h)("div",{className:"dropdown__chevron"},(0,e.h)("i",{className:"material-icons"},"arrow_drop_down")))};exports.Dropdown=o;
},{"preact":"PBm5","clsx":"bvnL","./dropdown.css":"QBQ+"}],"duil":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.usePreviousValue=r;var e=require("preact/hooks");function r(r){const t=(0,e.useRef)(void 0);return(0,e.useEffect)(()=>{t.current=r},[r]),t.current}
},{"preact/hooks":"2o0e"}],"MBdz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ScoreWord=exports.ScoreIcon=void 0;var s=require("preact");const e=e=>{const o=e.score;return o>=.9?(0,s.h)("i",{className:"lh-score-pass"}):o>=.5?(0,s.h)("i",{className:"lh-score-average"}):(0,s.h)("i",{className:"lh-score-fail"},(0,s.h)("svg",{viewBox:"0 0 120 120",xmlns:"http://www.w3.org/2000/svg"},(0,s.h)("polygon",{points:"10,110 60,10 110,110"})))};exports.ScoreIcon=e;const o=e=>{return(e.audit.score||0)>=.9?(0,s.h)("span",{className:"lh-score-word"},"Pass"):(0,s.h)("span",{className:"lh-score-word"},"Fail")};exports.ScoreWord=o;
},{"preact":"PBm5"}],"sCii":[function(require,module,exports) {
"use strict";function t(t){const s=[],i=t.split(/\[([^\]]+?)\]\((https?:\/\/.*?)\)/g);for(;i.length;){const[t,n,e]=i.splice(0,3);t&&s.push({isLink:!1,text:t}),n&&e&&s.push({isLink:!0,text:n,linkHref:e})}return s}module.exports={splitMarkdownLink:t};
},{}],"AHSu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Markdown=void 0;var e=require("preact"),r=require("@lhci/utils/src/markdown.js");const t=t=>{const s=(0,r.splitMarkdownLink)(t.text);return(0,e.h)(e.Fragment,null,s.map((r,t)=>{if(!r.isLink)return(0,e.h)("span",{key:t},r.text);const s=new URL(r.linkHref);return["https://developers.google.com","https://web.dev"].includes(s.origin)&&(s.searchParams.set("utm_source","lighthouse"),s.searchParams.set("utm_medium","ci")),(0,e.h)("a",{key:t,href:s.href,target:"_blank",rel:"noopener noreferrer"},r.text)}))};exports.Markdown=t;
},{"preact":"PBm5","@lhci/utils/src/markdown.js":"sCii"}],"g7r1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Nbsp=void 0;var e=require("preact");const s=()=>(0,e.h)("span",{style:{display:"inline-block",width:4,height:1}});exports.Nbsp=s;
},{"preact":"PBm5"}],"6qL7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SimpleDetails=void 0;var e=require("preact"),t=require("../../../components/nbsp");require("./simple-details.css");var a=require("@lhci/utils/src/audit-diff-finder.js");const s=s=>{let r=s.type;const{compareValue:l,baseValue:i,diff:n}=s,o=void 0===l?i:l;"object"==typeof o&&o.type&&(r=o.type);const c=n?(0,a.getDiffLabel)(n):"neutral",u=Number.isFinite(i)?i:0,p=Number.isFinite(l)?l:0,m=`${`Base Value: ${Math.round(u).toLocaleString()}`}, ${`Compare Value: ${Math.round(p).toLocaleString()}`}`,h=n&&1!==(0,a.getDeltaStats)(n).percentAbsoluteDelta?` (${(100*(0,a.getDeltaStats)(n).percentAbsoluteDelta).toLocaleString(void 0,{maximumFractionDigits:0})}%)`:"";switch(r){case"bytes":{const a=Math.abs((p-u)/1024);return(0,e.h)("pre",{className:`simple-details--${c}`,"data-tooltip":m},p>=u?"+":"-",a.toLocaleString(void 0,{maximumFractionDigits:Math.abs(a)<1?1:0}),(0,e.h)(t.Nbsp,null),"KB",h)}case"ms":case"timespanMs":{const a=Math.abs(Math.round(p-u));return(0,e.h)("pre",{className:`simple-details--${c}`,"data-tooltip":m},p>=u?"+":"-",a.toLocaleString(),(0,e.h)(t.Nbsp,null),"ms",h)}case"thumbnail":return(0,e.h)("img",{style:{width:48,height:48,objectFit:"cover"},src:"asdfasjdfoiasjdfosdj",onError:e=>{const t=e.srcElement;t instanceof HTMLImageElement&&(t.onerror=null,t.src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==")}});case"url":{let t=o,a="";try{const e=new URL(o);t=e.pathname,a=e.hostname}catch(d){}return(0,e.h)("span",{title:o},t,a?(0,e.h)("span",{className:"simple-details__url-hostname"},"(",a,")"):"")}case"link":return o.url?(0,e.h)("a",{target:"_blank",rel:"noopener noreferrer",href:o.url},o.text):(0,e.h)("span",null,o.text);case"code":return(0,e.h)("pre",null,o);case"numeric":return(0,e.h)("pre",{className:`simple-details--${c}`},p>=u?"+":"-",Math.abs(p-u).toLocaleString(),h);case"text":return(0,e.h)("span",null,o);case"node":return(0,e.h)("pre",null,o.snippet);default:{const t=JSON.stringify(s);return(0,e.h)("pre",{"data-tooltip":t},t.slice(0,20))}}};exports.SimpleDetails=s;
},{"preact":"PBm5","../../../components/nbsp":"g7r1","./simple-details.css":"QBQ+","@lhci/utils/src/audit-diff-finder.js":"On24"}],"1TGi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TableDetails=void 0;var e=require("preact");require("./table-details.css");var t=require("./simple-details"),a=require("@lhci/utils/src/audit-diff-finder");function l(e){switch(e){case"bytes":case"ms":case"timespanMs":case"numeric":return!0;default:return!1}}const n=n=>{const{audit:s,baseAudit:i,diffs:r}=n.pair;if(!s.details)return(0,e.h)(e.Fragment,null);const{headings:u,items:d}=s.details;if(!u||!d)return(0,e.h)(e.Fragment,null);const m=i&&i.details&&i.details.headings||[],o=i&&i.details&&i.details.items||[],c=(0,a.zipBaseAndCompareItems)(o,d),p=(0,a.sortZippedBaseAndCompareItems)(r,c),h=u.length?u:m;let y=h.findIndex(e=>l(e.valueType||e.itemType||"unknown"))-1;return y<0&&(y=h.length-1),(0,e.h)("div",{className:"table-details"},(0,e.h)("table",null,(0,e.h)("thead",null,(0,e.h)("tr",null,h.map((t,a)=>{const l=t.valueType||t.itemType||"unknown";return(0,e.h)(e.Fragment,{key:a},(0,e.h)("th",{className:`table-column--${l}`},t.label),y===a?(0,e.h)("th",null):null)}))),(0,e.h)("tbody",null,p.map(({base:l,compare:n,diffs:s})=>{if(!(n||l))return null;const i=`${l&&l.index}-${n&&n.index}`,u=(0,a.getRowLabelForIndex)(r,n&&n.index,l&&l.index);return(0,e.h)("tr",{key:i},h.map((a,i)=>{const r=a.valueType||a.itemType||"unknown",d=s.find(e=>"itemDelta"===e.type&&e.itemKey===a.key);return(0,e.h)(e.Fragment,{key:i},(0,e.h)("td",{className:`table-column--${r}`},(0,e.h)(t.SimpleDetails,{type:r,compareValue:n&&n.item[a.key],baseValue:l&&l.item[a.key],diff:d})),y===i?(0,e.h)("td",{className:"table-column--row-label"},"added"===u||"removed"===u?u:""):null)}))}))))};exports.TableDetails=n;
},{"preact":"PBm5","./table-details.css":"QBQ+","./simple-details":"6qL7","@lhci/utils/src/audit-diff-finder":"On24"}],"nXM+":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NumericDiff=void 0;var e=require("preact"),t=require("@lhci/utils/src/audit-diff-finder"),i=a(require("clsx")),n=require("../../../components/nbsp");function a(e){return e&&e.__esModule?e:{default:e}}require("./numeric-diff.css");const r={"first-contentful-paint":[0,1e4],"first-meaningful-paint":[0,1e4],"largest-contentful-paint":[0,15e3],"speed-index":[0,15e3],"first-cpu-idle":[0,15e3],interactive:[0,2e4],"estimated-input-latency":[0,1500],"max-potential-fid":[0,1500],"total-blocking-time":[0,1500],__default__:[0,3e4]},s=(e,t)=>{const i=e&&e.id||"";return(r[i]||r.__default__)["lower"===t?0:1]},u=(e,t)=>{const i="up"===t?Math.ceil:Math.floor;return e<10?i(e):e<100?10*i(e/10):e<1e3?100*i(e/100):e<1e4?1e3*i(e/1e3):2500*i(e/2500)},l=(e,t)=>{if("metrics"===t)return"ms";if("load-opportunities"===t)return"ms";if(!e)return"none";if(e.details){if(e.details.overallSavingsMs)return"ms"}const i=e.displayValue||"";return/[0-9,.]+\s(ms|s)$/.test(i)?"ms":/[0-9,.]+\s(KB|MB)$/.test(i)?"bytes":"none"},o=(t,i)=>{const{asDelta:a=!1,withSuffix:r=!1,unit:s="none"}=i;let u=Math.round(t),l=0,o="";"ms"===s&&(o="ms",Math.abs(u)>=1e3&&!i.preventSecondsConversion&&(u/=1e3,l=1,o="s")),"bytes"===s&&(o="KB",u/=1024,Math.abs(u)>=500&&(u/=1024,l=1,o="MB")),"none"===s&&Math.abs(u)>=50&&(u/=1e3,l=1,o="K");const f=u.toLocaleString(void 0,{minimumFractionDigits:l,maximumFractionDigits:l}),d=a&&u>=0?"+":"",m=d+f+(r?o:"");return{element:(0,e.h)("span",null,d,f,r?(0,e.h)(e.Fragment,null,(0,e.h)(n.Nbsp,null),o):""),string:m,length:m.length}},f=n=>{const{diff:a,audit:r,groupId:f}=n,d=l(r,f),m=a.compareValue,c=a.baseValue;if("number"!=typeof c||"number"!=typeof m)return(0,e.h)("span",null,"No diff available");const h=m-c,p=Math.min(m,c),_=Math.max(m,c),g=n.showAsBigPicture?s(r,"lower"):u(.8*p,"down"),v=n.showAsBigPicture?s(r,"upper"):u(1.2*_,"up"),b=v-g,x=100*(Math.min(Math.max(p,g),v)-g)/b,M=100-100*(Math.min(Math.max(_,g),v)-g)/b,w=(0,t.getDeltaLabel)(h,"audit"),N=p===m,y=`${o(c,{unit:d,withSuffix:!0}).string} to ${o(m,{withSuffix:!0,unit:d}).string}`;if(n.showAsNarrow)return(0,e.h)("div",{className:(0,i.default)("audit-numeric-diff",`text--${w}`),"data-tooltip":y},o(h,{asDelta:!0,withSuffix:!0,preventSecondsConversion:!0,unit:d}).element);const{element:S,length:D}=o(h,{asDelta:!0,withSuffix:!0,preventSecondsConversion:!0,unit:d}),$=10*D*100/300;return(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"audit-numeric-diff"},(0,e.h)("div",{className:"audit-numeric-diff__left-label"},o(g,{unit:d}).element),(0,e.h)("div",{className:"audit-numeric-diff__bar"},(0,e.h)("div",{className:(0,i.default)("audit-numeric-diff__box",{"audit-numeric-diff__box--improvement":"improvement"===w,"audit-numeric-diff__box--regression":"regression"===w}),style:{left:`${x}%`,right:`${M}%`},"data-tooltip":y},(0,e.h)("div",{className:"audit-numeric-diff__now",style:{left:N?"0%":"100%"}}),(0,e.h)("div",{className:(0,i.default)("audit-numeric-diff__delta-label",{"audit-numeric-diff__delta-label--narrow-left":"improvement"===w&&x<$,"audit-numeric-diff__delta-label--narrow-right":"regression"===w&&M<$}),style:{[N?"right":"left"]:"100%"}},S))),(0,e.h)("div",{className:"audit-numeric-diff__right-label"},o(v,{unit:d}).element)))};exports.NumericDiff=f;
},{"preact":"PBm5","@lhci/utils/src/audit-diff-finder":"On24","clsx":"bvnL","../../../components/nbsp":"g7r1","./numeric-diff.css":"QBQ+"}],"tobq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AuditDiff=exports.ItemDiff=void 0;var e=s(require("@lhci/utils/src/lodash")),r=require("preact"),i=require("../../../components/score-icon"),a=require("./numeric-diff"),t=require("@lhci/utils/src/audit-diff-finder"),o=d(require("clsx"));function d(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,i):{};a.get||a.set?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,r}const u={"font-display":"font_download","uses-rel-preconnect":"language","user-timings":"timer","bootup-time":"speed","mainthread-work-breakdown":"speed","third-party-summary":"language",deprecations:"error","errors-in-console":"error","font-sizes":"format_size"},n=e=>{const i=e.audit.id||"",a=e.groupId||"";let t="";return a.includes("opportunities")&&(t="web_asset"),a.includes("a11y")&&(t="code"),i.includes("image")&&(t="photo"),t=u[i]||t||"list_alt",(0,r.h)("i",{className:"material-icons"},t)},f=e=>(0,r.h)(r.Fragment,null,(0,r.h)(i.ScoreWord,{audit:e.baseAudit}),(0,r.h)("i",{className:`material-icons audit-group__diff-arrow audit-group__diff-arrow--${(0,t.getDiffLabel)(e.diff)}`},"arrow_forward"),(0,r.h)(i.ScoreWord,{audit:e.audit})),l=e=>(0,r.h)(r.Fragment,null,(0,r.h)("span",null,e.diff.baseValue),(0,r.h)("i",{className:`material-icons audit-group__diff-arrow audit-group__diff-arrow--${(0,t.getDiffLabel)(e.diff)}`},"arrow_forward"),(0,r.h)("span",null,e.diff.compareValue));function p(e){switch(e){case"added":case"worse":case"ambiguous":return"regression";case"removed":case"better":return"improvement";case"no change":return"neutral"}}function c(r){return e.uniqBy(r.map(e=>({base:"baseItemIndex"in e?e.baseItemIndex:void 0,compare:"compareItemIndex"in e?e.compareItemIndex:void 0})).filter(e=>"number"==typeof e.base||"number"==typeof e.compare),e=>`${e.base}-${e.compare}`)}const m=e=>{const{diffs:i,baseAudit:a,groupId:d}=e;if(!a.details||!a.details.items)return null;const s=c(i).map(e=>(0,t.getRowLabelForIndex)(i,e.compare,e.base)).map(p),u=s.filter(e=>"regression"===e).length,f=s.filter(e=>"improvement"===e).length,l=(0,r.h)(r.Fragment,null,(0,r.h)("div",{className:"audit-group__diff-badge-group"},(0,r.h)(n,{audit:e.audit,groupId:d}),(0,r.h)("div",{className:"audit-group__diff-badges"},(0,r.h)("span",{className:"audit-group__diff-badge"},a.details.items.length))),(0,r.h)("i",{className:`material-icons audit-group__diff-arrow audit-group__diff-arrow--${f>u?"improvement":"regression"}`},"arrow_forward"));return(0,r.h)(r.Fragment,null,e.showAsNarrow?(0,r.h)(r.Fragment,null):l,(0,r.h)("div",{className:(0,o.default)("audit-group__diff-badge-group")},(0,r.h)(n,{audit:e.audit,groupId:d}),(0,r.h)("div",{className:(0,o.default)("audit-group__diff-badges",{"audit-group__diff-badge-group--multiple":Boolean(u&&f)})},u?(0,r.h)("span",{className:"audit-group__diff-badge audit-group__diff-badge--regression"},u):null,f?(0,r.h)("span",{className:"audit-group__diff-badge audit-group__diff-badge--improvement"},f):null)),(0,r.h)("div",{style:{width:10}}))};exports.ItemDiff=m;const g=e=>{const{audit:i,baseAudit:t,diffs:o,group:d}=e.pair,s=(0,r.h)("span",null,"No diff available");if(!t)return s;const u=o.find(e=>"numericValue"===e.type);if(u&&"numericValue"===u.type)return(0,r.h)(a.NumericDiff,{diff:u,audit:i,groupId:d.id,showAsBigPicture:e.showAsBigPicture,showAsNarrow:e.showAsNarrow});if(o.some(e=>"itemAddition"===e.type||"itemRemoval"===e.type||"itemDelta"===e.type))return(0,r.h)(m,{diffs:o,audit:i,baseAudit:t,groupId:d.id,showAsNarrow:e.showAsNarrow});const n=o.find(e=>"score"===e.type);if(n)return(0,r.h)(f,{diff:n,audit:i,baseAudit:t});const p=o.find(e=>"displayValue"===e.type);return p&&"displayValue"===p.type?(0,r.h)(l,{diff:p,audit:i,baseAudit:t}):s};exports.AuditDiff=g;
},{"@lhci/utils/src/lodash":"OuB2","preact":"PBm5","../../../components/score-icon":"MBdz","./numeric-diff":"nXM+","@lhci/utils/src/audit-diff-finder":"On24","clsx":"bvnL"}],"YgnJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AuditDetail=void 0;var i=require("preact"),e=l(require("clsx")),t=require("../../../components/score-icon"),a=require("../../../components/markdown"),r=require("./table-details"),d=require("../audit-list/numeric-diff"),u=require("../audit-list/audit-diff"),s=require("@lhci/utils/src/audit-diff-finder");function l(i){return i&&i.__esModule?i:{default:i}}function n(){return(n=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(i[a]=t[a])}return i}).apply(this,arguments)}const o=e=>{const{audit:a,baseAudit:r}=e.pair;return r?(0,i.h)("div",{className:"audit-detail-pane__audit-details--binary"},(0,i.h)(t.ScoreWord,{audit:r}),(0,i.h)("i",{className:`material-icons audit-group__diff-arrow audit-group__diff-arrow--${(0,s.getDiffLabel)(e.diff)}`},"arrow_forward"),(0,i.h)(t.ScoreWord,{audit:a})):null},c=e=>{const{pair:t}=e,a=t.audit.details&&t.audit.details.type;let s=void 0,l=void 0,c=void 0;"table"!==a&&"opportunity"!==a||(l=(0,i.h)(r.TableDetails,{pair:t}),t.baseAudit&&(s=(0,i.h)(u.ItemDiff,n({},t,{baseAudit:t.baseAudit,groupId:t.group.id}))));const p=t.diffs.find(i=>"numericValue"===i.type);if(p&&"numericValue"===p.type&&(c=(0,i.h)(d.NumericDiff,{diff:p,audit:t.audit})),l||p)return(0,i.h)(i.Fragment,null,(0,i.h)("div",{className:"audit-detail-pane__audit-details-summary"},c||s),l);const f=t.diffs.find(i=>"score"===i.type);return f&&"score"===f.type?(0,i.h)(o,{diff:f,pair:e.pair}):(0,i.h)("pre",null,JSON.stringify(e.pair,null,2))},p=r=>{const{audit:d}=r.pair;return(0,i.h)("div",{id:`audit-detail-pane-audit--${d.id}`,className:(0,e.default)("audit-detail-pane__audit")},(0,i.h)("div",{className:"audit-detail-pane__score"},(0,i.h)(t.ScoreIcon,{score:d.score||0})),(0,i.h)("div",{className:"audit-detail-pane__audit-title"},d.title),(0,i.h)("div",{className:"audit-detail-pane__audit-description"},(0,i.h)(a.Markdown,{text:d.description||""})),(0,i.h)("div",{className:"audit-detail-pane__audit-details"},(0,i.h)(c,{pair:r.pair})))};exports.AuditDetail=p;
},{"preact":"PBm5","clsx":"bvnL","../../../components/score-icon":"MBdz","../../../components/markdown":"AHSu","./table-details":"1TGi","../audit-list/numeric-diff":"nXM+","../audit-list/audit-diff":"tobq","@lhci/utils/src/audit-diff-finder":"On24"}],"qAQt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AuditDetailPane=void 0;var e=require("preact");require("./audit-detail-pane.css");var t=require("../../../hooks/use-previous-value.jsx"),i=require("preact/hooks"),a=require("./audit-detail");const r=r=>{const s=(0,i.useRef)(void 0),u=(0,t.usePreviousValue)(r.selectedAuditId);return(0,i.useEffect)(()=>{const e=r.selectedAuditId,t=s.current;if(!t||!e||e===u)return;const i=t.querySelector(`#audit-detail-pane-audit--${e}`);i&&i instanceof HTMLElement&&t.scrollTo(0,i.offsetTop)},[r.selectedAuditId,u]),(0,e.h)("div",{className:"audit-detail-pane",ref:e=>s.current=e},(0,e.h)("div",{className:"audit-detail-pane__close",onClick:()=>r.setSelectedAuditId(null)},(0,e.h)("i",{className:"material-icons"},"close")),r.pairs.map(t=>{const{audit:i}=t;if(i.id)return(0,e.h)(a.AuditDetail,{key:i.id,pair:t})}))};exports.AuditDetailPane=r;
},{"preact":"PBm5","./audit-detail-pane.css":"QBQ+","../../../hooks/use-previous-value.jsx":"duil","preact/hooks":"2o0e","./audit-detail":"YgnJ"}],"nbB7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Gauge=void 0;var a=require("preact"),e=s(require("clsx"));require("./gauge.css");var r=require("@lhci/utils/src/audit-diff-finder");function s(a){return a&&a.__esModule?a:{default:a}}const t=s=>{const t=Math.round(100*s.score),c=s.diff?s.diff.baseValue:s.score,i=Math.round(100*c),o=s.diff?(0,r.getDiffLabel)(s.diff):"neutral",u=`${Math.max(0,352*s.score-2)} 352`,l=Math.abs(i-t),d=Math.max(0,l/100*352-2),g=`${d} 352`,n=`rotate(${Math.min(t,i)/100*360}deg)`,f=`rotate(${360*s.score}deg)`;return(0,a.h)("div",{className:(0,e.default)("gauge",`gauge--${o}`)},(0,a.h)("div",{className:"gauge-arc"},(0,a.h)("svg",{viewBox:"0 0 120 120"},(0,a.h)("circle",{className:"gauge-arc__arc",transform:"rotate(-90 60 60)",r:"56",cx:"60",cy:"60",style:{strokeDasharray:u}})),(0,a.h)("div",{className:"gauge-arc__delta-wrapper",style:{transform:n,display:d<1?"none":"block"}},(0,a.h)("svg",{viewBox:"0 0 120 120"},(0,a.h)("circle",{className:"gauge-arc__arc",transform:"rotate(-90 60 60)",r:"56",cx:"60",cy:"60",style:{strokeDasharray:g}}))),(0,a.h)("div",{className:"gauge-arc__indicator-wrapper",style:{transform:f}},(0,a.h)("div",{className:"gauge-arc__indicator"}))),(0,a.h)("span",null,t))};exports.Gauge=t;
},{"preact":"PBm5","clsx":"bvnL","./gauge.css":"QBQ+","@lhci/utils/src/audit-diff-finder":"On24"}],"1RL+":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getBadgeDiffType=g,exports.getBadgeStatus=c,exports.PWAGauge=exports.OptimizedIcon=exports.InstallableIcon=exports.FastReliableIcon=void 0;var e=require("preact"),a=r(require("clsx")),l=t(require("@lhci/utils/src/lodash.js"));function t(e){if(e&&e.__esModule)return e;var a={};if(null!=e)for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var t=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,l):{};t.get||t.set?Object.defineProperty(a,l,t):a[l]=e[l]}return a.default=e,a}function r(e){return e&&e.__esModule?e:{default:e}}require("./pwa-gauge.css");const s=a=>(0,e.h)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:`pwa-icon pwa-icon--${a.deltaType}`},(0,e.h)("g",{"fill-rule":"nonzero",fill:"none"},(0,e.h)("circle",{class:"pwa-icon__background",cx:"12",cy:"12",r:"12"}),(0,e.h)("path",{d:"M12 4.3l6.3 2.8v4.2c0 3.88-2.69 7.52-6.3 8.4-3.61-.88-6.3-4.51-6.3-8.4V7.1L12 4.3zm-.56 12.88l3.3-5.79.04-.08c.05-.1.01-.29-.26-.29h-1.96l.56-3.92h-.56L9.3 12.82c0 .03.07-.12-.03.07-.11.2-.12.37.2.37h1.97l-.56 3.92h.56z",fill:"#FFF"})));exports.FastReliableIcon=s;const o=a=>(0,e.h)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:`pwa-icon pwa-icon--${a.deltaType}`},(0,e.h)("g",{"fill-rule":"nonzero",fill:"none"},(0,e.h)("circle",{class:"pwa-icon__background",cx:"12",cy:"12",r:"12"}),(0,e.h)("path",{d:"M12 5a7 7 0 1 0 0 14 7 7 0 0 0 0-14zm3.5 7.7h-2.8v2.8h-1.4v-2.8H8.5v-1.4h2.8V8.5h1.4v2.8h2.8v1.4z",fill:"#FFF"})));exports.InstallableIcon=o;const i=a=>(0,e.h)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:`pwa-icon pwa-icon--${a.deltaType}`},(0,e.h)("g",{fill:"none","fill-rule":"evenodd"},(0,e.h)("rect",{class:"pwa-icon__background",width:"24",height:"24",rx:"12"}),(0,e.h)("path",{d:"M5 5h14v14H5z"}),(0,e.h)("path",{fill:"#FFF",d:"M12 15.07l3.6 2.18-.95-4.1 3.18-2.76-4.2-.36L12 6.17l-1.64 3.86-4.2.36 3.2 2.76-.96 4.1z"})));function g(e,a,l){return e[l]===a[l]?"neutral":a[l]?"improvement":"regression"}function c(e){const a=e.categories.pwa,t=l.groupIntoMap(a.auditRefs,e=>e.group),r=(a=[])=>a.map(a=>e.audits[a.id]).every(e=>e&&1===e.score);return{optimized:r(t.get("pwa-optimized")||[]),installable:r(t.get("pwa-installable")||[]),fastAndReliable:r(t.get("pwa-fast-reliable")||[])}}exports.OptimizedIcon=i;const n=l=>{const{status:t}=l,r=t.optimized&&t.installable&&t.fastAndReliable;return(0,e.h)("div",{className:(0,a.default)("pwa-gauge",{"pwa-gauge--all":r,"pwa-gauge--pwa-optimized":!r&&t.optimized,"pwa-gauge--pwa-installable":!r&&t.installable,"pwa-gauge--pwa-fast-reliable":!r&&t.fastAndReliable})},(0,e.h)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 60 60"},(0,e.h)("defs",null,(0,e.h)("linearGradient",{id:"pwa-gauge__check-circle__gradient",x1:"50%",y1:"0%",x2:"50%",y2:"100%"},(0,e.h)("stop",{"stop-color":"#00C852",offset:"0%"}),(0,e.h)("stop",{"stop-color":"#009688",offset:"100%"})),(0,e.h)("linearGradient",{id:"pwa-gauge__installable__shadow-gradient",x1:"76.056%",x2:"24.111%",y1:"82.995%",y2:"24.735%"},(0,e.h)("stop",{"stop-color":"#A5D6A7",offset:"0%"}),(0,e.h)("stop",{"stop-color":"#80CBC4",offset:"100%"})),(0,e.h)("linearGradient",{id:"pwa-gauge__fast-reliable__shadow-gradient",x1:"76.056%",y1:"82.995%",x2:"25.678%",y2:"26.493%"},(0,e.h)("stop",{"stop-color":"#64B5F6",offset:"0%"}),(0,e.h)("stop",{"stop-color":"#2979FF",offset:"100%"})),(0,e.h)("g",{id:"pwa-gauge__fast-reliable-badge"},(0,e.h)("circle",{fill:"#FFFFFF",cx:"10",cy:"10",r:"10"}),(0,e.h)("path",{fill:"#304FFE",d:"M10 3.58l5.25 2.34v3.5c0 3.23-2.24 6.26-5.25 7-3.01-.74-5.25-3.77-5.25-7v-3.5L10 3.58zm-.47 10.74l2.76-4.83.03-.07c.04-.08 0-.24-.22-.24h-1.64l.47-3.26h-.47l-2.7 4.77c-.02.01.05-.1-.04.05-.09.16-.1.31.18.31h1.63l-.47 3.27h.47z"})),(0,e.h)("g",{id:"pwa-gauge__installable-badge"},(0,e.h)("circle",{fill:"#FFFFFF",cx:"10",cy:"10",r:"10"}),(0,e.h)("path",{fill:"#009688",d:"M10 4.167A5.835 5.835 0 0 0 4.167 10 5.835 5.835 0 0 0 10 15.833 5.835 5.835 0 0 0 15.833 10 5.835 5.835 0 0 0 10 4.167zm2.917 6.416h-2.334v2.334H9.417v-2.334H7.083V9.417h2.334V7.083h1.166v2.334h2.334v1.166z"}))),(0,e.h)("g",{stroke:"none","fill-rule":"nonzero"},(0,e.h)("circle",{class:"pwa-gauge__disc",cx:"30",cy:"30",r:"30"}),(0,e.h)("g",{class:"pwa-gauge__logo"},(0,e.h)("path",{class:"pwa-gauge__logo--secondary-color",d:"M35.66 19.39l.7-1.75h2L37.4 15 38.6 12l3.4 9h-2.51l-.58-1.61z"}),(0,e.h)("path",{class:"pwa-gauge__logo--primary-color",d:"M33.52 21l3.65-9h-2.42l-2.5 5.82L30.5 12h-1.86l-1.9 5.82-1.35-2.65-1.21 3.72L25.4 21h2.38l1.72-5.2 1.64 5.2z"}),(0,e.h)("path",{class:"pwa-gauge__logo--secondary-color","fill-rule":"nonzero",d:"M20.3 17.91h1.48c.45 0 .85-.05 1.2-.15l.39-1.18 1.07-3.3a2.64 2.64 0 0 0-.28-.37c-.55-.6-1.36-.91-2.42-.91H18v9h2.3V17.9zm1.96-3.84c.22.22.33.5.33.87 0 .36-.1.65-.29.87-.2.23-.59.35-1.15.35h-.86v-2.41h.87c.52 0 .89.1 1.1.32z"})),(0,e.h)("rect",{class:"pwa-gauge__component pwa-gauge__na-line",fill:"#FFFFFF",x:"20",y:"32",width:"20",height:"4",rx:"2"}),(0,e.h)("g",{class:"pwa-gauge__component pwa-gauge__fast-reliable-badge",transform:"translate(20, 29)"},(0,e.h)("path",{fill:"url(#pwa-gauge__fast-reliable__shadow-gradient)",d:"M33.63 19.49A30 30 0 0 1 16.2 30.36L3 17.14 17.14 3l16.49 16.49z"}),(0,e.h)("use",{href:"#pwa-gauge__fast-reliable-badge"})),(0,e.h)("g",{class:"pwa-gauge__component pwa-gauge__installable-badge",transform:"translate(20, 29)"},(0,e.h)("path",{fill:"url(#pwa-gauge__installable__shadow-gradient)",d:"M33.629 19.487c-4.272 5.453-10.391 9.39-17.415 10.869L3 17.142 17.142 3 33.63 19.487z"}),(0,e.h)("use",{href:"#pwa-gauge__installable-badge"})),(0,e.h)("g",{class:"pwa-gauge__component pwa-gauge__fast-reliable-installable-badges"},(0,e.h)("g",{transform:"translate(8, 29)"},(0,e.h)("path",{fill:"url(#pwa-gauge__fast-reliable__shadow-gradient)",d:"M16.321 30.463L3 17.143 17.142 3l22.365 22.365A29.864 29.864 0 0 1 22 31c-1.942 0-3.84-.184-5.679-.537z"}),(0,e.h)("use",{href:"#pwa-gauge__fast-reliable-badge"})),(0,e.h)("g",{transform:"translate(32, 29)"},(0,e.h)("path",{fill:"url(#pwa-gauge__installable__shadow-gradient)",d:"M25.982 11.84a30.107 30.107 0 0 1-13.08 15.203L3 17.143 17.142 3l8.84 8.84z"}),(0,e.h)("use",{href:"#pwa-gauge__installable-badge"}))),(0,e.h)("g",{class:"pwa-gauge__component pwa-gauge__check-circle",transform:"translate(18, 28)"},(0,e.h)("circle",{fill:"#FFFFFF",cx:"12",cy:"12",r:"12"}),(0,e.h)("path",{fill:"url(#pwa-gauge__check-circle__gradient)",d:"M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})))))};exports.PWAGauge=n;
},{"preact":"PBm5","clsx":"bvnL","@lhci/utils/src/lodash.js":"OuB2","./pwa-gauge.css":"QBQ+"}],"Np95":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LhrComparisonScores=void 0;var e=require("preact");require("./lhr-comparison-scores.css");var a=l(require("clsx")),r=require("../../components/gauge"),s=require("../../components/pwa-gauge"),t=require("@lhci/utils/src/audit-diff-finder");function l(e){return e&&e.__esModule?e:{default:e}}const o=e=>Math.round(100*e),i=s=>{const{lhr:l,baseLhr:i,categoryId:c}=s,n=l.categories[c];let d=null,u="",h=void 0;if(i){const r=i.categories[c];if(r){h={auditId:"",type:"score",baseValue:r.score,compareValue:n.score};const s=o(n.score-r.score);u=`lhr-comparison-scores-item--${(0,t.getDiffLabel)(h)}`,d=(0,e.h)("div",{className:(0,a.default)("lhr-comparison-scores-item__delta")},s<0?s:`+${s}`)}}return(0,e.h)("div",{key:c,className:(0,a.default)("lhr-comparison-scores-item",u)},(0,e.h)(r.Gauge,{score:n.score,diff:h}),(0,e.h)("div",{className:"lhr-comparison-scores-item__label"},n.title),d)},c=r=>{const{lhr:t,baseLhr:l,categoryId:o}=r,i=(0,s.getBadgeStatus)(t);let c;if(l){const r=(0,s.getBadgeStatus)(l),t={fastAndReliable:(0,s.getBadgeDiffType)(r,i,"fastAndReliable"),installable:(0,s.getBadgeDiffType)(r,i,"installable"),optimized:(0,s.getBadgeDiffType)(r,i,"optimized")},o=Object.values(t).every(e=>"neutral"===e),n=(0,e.h)(e.Fragment,null,"neutral"===t.fastAndReliable?(0,e.h)(e.Fragment,null):(0,e.h)(s.FastReliableIcon,{deltaType:t.fastAndReliable}),"neutral"===t.installable?(0,e.h)(e.Fragment,null):(0,e.h)(s.InstallableIcon,{deltaType:t.installable}),"neutral"===t.optimized?(0,e.h)(e.Fragment,null):(0,e.h)(s.OptimizedIcon,{deltaType:t.optimized}));c=(0,e.h)("div",{className:(0,a.default)("lhr-comparison-scores-item__delta")},o?"-":n)}return(0,e.h)("div",{key:o,className:(0,a.default)("lhr-comparison-scores-item","lhr-comparison-scores-item--pwa","lhr-comparison-scores-item--neutral")},(0,e.h)(s.PWAGauge,{status:i}),(0,e.h)("div",{className:"lhr-comparison-scores-item__label"},"PWA"),c)},n=a=>{const{lhr:r,baseLhr:s}=a;if(!r)return null;const t=Object.keys(r.categories);return(0,e.h)("div",{className:"lhr-comparison-scores"},t.sort((e,a)=>{return("pwa"===e?1/0:t.indexOf(e))-("pwa"===a?1/0:t.indexOf(a))}).map(a=>"pwa"===a?(0,e.h)(c,{lhr:r,baseLhr:s,categoryId:a}):(0,e.h)(i,{lhr:r,baseLhr:s,categoryId:a})))};exports.LhrComparisonScores=n;
},{"preact":"PBm5","./lhr-comparison-scores.css":"QBQ+","clsx":"bvnL","../../components/gauge":"nbB7","../../components/pwa-gauge":"1RL+","@lhci/utils/src/audit-diff-finder":"On24"}],"PPje":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AuditGroup=void 0;var e=require("preact");require("./audit-group.css");var i=require("../../../components/paper"),t=require("../../../components/score-icon"),a=u(require("clsx")),r=require("./audit-diff"),s=require("preact/hooks");function u(e){return e&&e.__esModule?e:{default:e}}const d=u=>{const{group:d,pairs:o}=u,[c,l]=(0,s.useState)("metrics"===d.id);return(0,e.h)(i.Paper,{className:"audit-group"},(0,e.h)("div",{className:"audit-group__header"},(0,e.h)("div",{className:"audit-group__title"},d.title),"metrics"!==d.id||u.showAsNarrow?(0,e.h)(e.Fragment,null):(0,e.h)("div",{className:"audit-group__big-picture-tabs"},(0,e.h)("span",{className:(0,a.default)("big-picture-tabs__tab",{"big-picture-tabs__tab--selected":c}),onClick:()=>l(!0)},"Overview"),(0,e.h)("span",{className:(0,a.default)("big-picture-tabs__tab",{"big-picture-tabs__tab--selected":!c}),onClick:()=>l(!1)},"Magnified"))),(0,e.h)("div",{className:"audit-group__audits"},o.map(i=>{const{audit:s}=i;return"metrics"!==d.id&&(i={...i,diffs:i.diffs.filter(e=>"numericValue"!==e.type)}),(0,e.h)("div",{key:s.id,className:(0,a.default)("audit-group__audit"),onClick:()=>u.setSelectedAuditId(s.id||null)},(0,e.h)("div",{className:"audit-group__audit-score"},(0,e.h)(t.ScoreIcon,{score:s.score||0})),(0,e.h)("div",{className:"audit-group__audit-title"},s.title),(0,e.h)("div",{className:"audit-group__audit-diff"},(0,e.h)(r.AuditDiff,{pair:i,showAsBigPicture:c,showAsNarrow:u.showAsNarrow})))})))};exports.AuditGroup=d;
},{"preact":"PBm5","./audit-group.css":"QBQ+","../../../components/paper":"ri7X","../../../components/score-icon":"MBdz","clsx":"bvnL","./audit-diff":"tobq","preact/hooks":"2o0e"}],"HjsZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LhrComparisonLegend=void 0;var e=require("preact");require("./lhr-comparison-legend.css");var r=require("../../components/score-icon");const s=()=>(0,e.h)("div",{className:"lhr-comparison-legend"},(0,e.h)(r.ScoreIcon,{score:0}),(0,e.h)("span",{className:"lhr-comparison-legend__label"},"0-49"),(0,e.h)(r.ScoreIcon,{score:.5}),(0,e.h)("span",{className:"lhr-comparison-legend__label"},"50-89"),(0,e.h)(r.ScoreIcon,{score:1}),(0,e.h)("span",{className:"lhr-comparison-legend__label"},"90-100"),(0,e.h)("i",{className:"lhr-comparison-legend__chip lhr-comparison-legend__chip--regression"}),(0,e.h)("span",{className:"lhr-comparison-legend__label"},"Regression"),(0,e.h)("i",{className:"lhr-comparison-legend__chip lhr-comparison-legend__chip--improvement"}),(0,e.h)("span",{className:"lhr-comparison-legend__label"},"Improvement"));exports.LhrComparisonLegend=s;
},{"preact":"PBm5","./lhr-comparison-legend.css":"QBQ+","../../components/score-icon":"MBdz"}],"IOic":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.computeAuditGroups=p,exports.LhrComparison=void 0;var e=require("preact"),r=require("preact/hooks"),t=h(require("clsx")),s=h(require("@lhci/utils/src/lodash")),o=require("@lhci/utils/src/audit-diff-finder"),i=require("../../components/dropdown"),a=require("./audit-detail/audit-detail-pane"),l=require("./lhr-comparison-scores"),n=require("./audit-list/audit-group"),u=require("./lhr-comparison-legend"),d=require("../../components/paper"),c=require("../../components/lhr-viewer-link");function h(e){return e&&e.__esModule?e:{default:e}}function p(e,r,t){const i=Object.entries(e.categories).map(([r,t])=>{const o=s.default.groupBy(t.auditRefs,e=>e.group);return o.map(s=>{let i=s[0].group||"",a=e.categoryGroups&&e.categoryGroups[i];if(!a){if(1!==o.length)return;i=`category:${r}`,a={title:t.title,description:t.description}}const l=s.map(r=>({...e.audits[r.id],id:r.id})).sort((e,r)=>(e.score||0)-(r.score||0));return{id:i,group:{...a,id:i},audits:l}})}).reduce((e,r)=>e.concat(r)),a=[];for(const s of i){if(!s)continue;const e=s.audits.map(e=>{const i=r&&r.audits[e.id||""],a=i?(0,o.findAuditDiffs)(i,e,{...t,synthesizeItemKeyDiffs:!0}):[],l=Math.max(...a.map(o.getDiffSeverity),0);return{audit:e,baseAudit:i,diffs:a,maxSeverity:l,group:s.group}}).filter(e=>!e.baseAudit||e.diffs.length),i={id:s.id,group:s.group,pairs:e.sort((e,r)=>(e.audit.score||0)-(r.audit.score||0))};i.pairs.length&&a.push(i)}return a}require("./lhr-comparison.css");const m=r=>(0,e.h)("div",{className:"lhr-comparison__scores-and-dropdowns"},(0,e.h)("div",{className:"container"},(0,e.h)("div",{className:"lhr-comparison__dropdowns"},r.hookElements.dropdowns,(0,e.h)(i.Dropdown,{label:"Threshold",value:r.percentAbsoluteDeltaThreshold.toString(),setValue:e=>{r.setPercentAbsoluteDeltaThreshold(Number(e))},options:[{value:"0",label:"0%"},{value:"0.05",label:"5%"},{value:"0.1",label:"10%"},{value:"0.15",label:"15%"},{value:"0.25",label:"25%"}]})),r.selectedAuditId?(0,e.h)(e.Fragment,null):(0,e.h)(l.LhrComparisonScores,r))),f=r=>(0,e.h)("div",{className:"lhr-comparison__audit-groups"},r.auditGroups.map(t=>{if(t)return(0,e.h)(n.AuditGroup,{key:t.id,showAsNarrow:r.showAsNarrow,pairs:t.pairs,group:t.group,baseLhr:r.baseLhr,selectedAuditId:r.selectedAuditId,setSelectedAuditId:r.setSelectedAuditId})})),g=s=>{const{lhr:o,baseLhr:i}=s,[l,n]=(0,r.useState)(.05),[h,g]=(0,r.useState)(null);(0,r.useEffect)(()=>{window.__LHR__=o,window.__BASE_LHR__=i},[o,i]);const _=p(o,i,{percentAbsoluteDeltaThreshold:l});return(0,e.h)(e.Fragment,null,h?(0,e.h)(a.AuditDetailPane,{selectedAuditId:h,setSelectedAuditId:g,pairs:_.map(e=>e.pairs).reduce((e,r)=>e.concat(r)),baseLhr:i}):(0,e.h)(e.Fragment,null),(0,e.h)("div",{className:(0,t.default)("lhr-comparison",s.className,{"lhr-comparison--with-audit-selection":!!h})},(0,e.h)(m,{lhr:o,baseLhr:i,selectedAuditId:h,hookElements:s.hookElements,percentAbsoluteDeltaThreshold:l,setPercentAbsoluteDeltaThreshold:n}),(0,e.h)("div",{className:"container"},s.hookElements.warnings,_.length&&i?(0,e.h)(e.Fragment,null,h?null:(0,e.h)("div",{className:"lhr-comparison__legend-container"},(0,e.h)(u.LhrComparisonLegend,null)),(0,e.h)(f,{showAsNarrow:!!h,auditGroups:_,baseLhr:i,selectedAuditId:h,setSelectedAuditId:g})):s.hookElements.warnings?null:(0,e.h)(d.Paper,{className:"lhr-comparison__warning"},(0,e.h)("i",{className:"material-icons"},"sentiment_satisfied_alt"),(0,e.h)("div",null,"Woah, no differences found! Switch base builds to explore other differences, or"," ",(0,e.h)(c.LhrViewerLink,{className:"lhr-comparison__warning__lhr-link",lhr:s.lhr},"jump straight to the Lighthouse report."))))))};exports.LhrComparison=g;
},{"preact":"PBm5","preact/hooks":"2o0e","clsx":"bvnL","@lhci/utils/src/lodash":"OuB2","@lhci/utils/src/audit-diff-finder":"On24","../../components/dropdown":"1Sha","./audit-detail/audit-detail-pane":"qAQt","./lhr-comparison-scores":"Np95","./audit-list/audit-group":"PPje","./lhr-comparison-legend":"HjsZ","../../components/paper":"ri7X","../../components/lhr-viewer-link":"lMFQ","./lhr-comparison.css":"QBQ+"}],"ROJz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ComparisonRoute=void 0;var e=require("preact");require("./comparison.css");var o=require("../../components/lhci-components.jsx"),r=require("../../components/report-upload-box"),s=require("../../../../../server/src/ui/routes/build-view/lhr-comparison");const a=a=>{const p=(0,r.computeBestDisplayType)(a.baseReport.lhr,a.compareReport.lhr);return(0,e.h)("div",{className:"comparison"},(0,e.h)("div",{className:"comparison-header"},(0,e.h)("div",{className:"comparison-header__switcher",onClick:()=>{a.setBaseReport(a.compareReport),a.setCompareReport(a.baseReport)}},(0,e.h)("i",{className:"material-icons"},"swap_horiz")),(0,e.h)("div",{className:"comparison-header__logo"},(0,e.h)("img",{src:o.LH_LOGO_PATH,alt:"Lighthouse Logo",onClick:()=>{a.setBaseReport(void 0),a.setCompareReport(void 0)}})),(0,e.h)("div",{className:"comparison-header__upload"},(0,e.h)(r.ReportUploadBox,{variant:"base",report:a.baseReport,setReport:a.setBaseReport,addToast:a.addToast,displayType:p,showOpenLhrLink:!0}),(0,e.h)(r.ReportUploadBox,{variant:"compare",report:a.compareReport,setReport:a.setCompareReport,addToast:a.addToast,displayType:p,showOpenLhrLink:!0})),(0,e.h)("a",{className:"comparison-header__info",href:"https://github.com/GoogleChrome/lighthouse-ci"},(0,e.h)("i",{className:"material-icons"},"info"))),(0,e.h)("div",{className:"comparison-body"},(0,e.h)(s.LhrComparison,{lhr:a.compareReport.lhr,baseLhr:a.baseReport.lhr,hookElements:{}})))};exports.ComparisonRoute=a;
},{"preact":"PBm5","./comparison.css":"QBQ+","../../components/lhci-components.jsx":"jSTM","../../components/report-upload-box":"7RqH","../../../../../server/src/ui/routes/build-view/lhr-comparison":"IOic"}],"QAPf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Toast=void 0;var e=require("preact");require("./toast.css");var t=require("preact/hooks");const s=s=>{const r=s.setToasts,{message:o,level:a="info"}=s.toast;return(0,t.useEffect)(()=>{const e=setTimeout(()=>r(e=>e.filter(e=>e!==s.toast)),5e3);return()=>clearInterval(e)},[]),(0,e.h)("div",{className:`toast toast--${a}`},o)};exports.Toast=s;
},{"preact":"PBm5","./toast.css":"QBQ+","preact/hooks":"2o0e"}],"pRI3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.App=void 0;var e=require("preact"),r=require("preact/hooks");require("../../../server/src/ui/app.css"),require("./app.css");var t=require("./routes/landing/landing.jsx"),a=require("./routes/comparison/comparison.jsx"),s=require("./components/lhci-components.jsx"),o=require("./components/report-upload-box.jsx"),n=require("./components/toast.jsx");const i=new URLSearchParams(location.search),p=i.get("baseReport"),c=i.get("compareReport");async function l(e,r){const t=new URL(e).pathname.split("/").slice(-1)[0]||"Unknown",a=await fetch(e),s=await a.text(),n=(0,o.parseStringAsLhr)(s);if(n instanceof Error)throw n;r({filename:t,data:s,lhr:n})}async function u(e,r,t,a){const s=[p&&l(p,e),c&&l(c,r)].filter(e=>!!e);s.length&&(t(!0),await Promise.all(s.map(e=>e.catch(e=>{console.error(e),a({message:`Failed loading report from URL: ${e.message}`,level:"error"})}))),t(!1))}const m=()=>{const[o,i]=(0,r.useState)(!1),[p,c]=(0,r.useState)(void 0),[l,m]=(0,r.useState)(void 0),[d,h]=(0,r.useState)([]),R=(0,r.useCallback)(e=>h(r=>[...r,e]),[h]);return(0,r.useEffect)(()=>{u(c,m,i,R)},[]),(0,e.h)("div",{className:"lhci-viewer"},o?(0,e.h)("div",{className:"loading-container"},(0,e.h)(s.LoadingSpinner,null)):(0,e.h)(e.Fragment,null),(0,e.h)("div",{className:"toast-container"},d.map(r=>(0,e.h)(n.Toast,{key:r.message,toast:r,setToasts:h}))),p&&l?(0,e.h)(a.ComparisonRoute,{baseReport:p,setBaseReport:c,compareReport:l,setCompareReport:m,addToast:R}):(0,e.h)(t.LandingRoute,{baseReport:p,setBaseReport:c,compareReport:l,setCompareReport:m,addToast:R}))};exports.App=m;
},{"preact":"PBm5","preact/hooks":"2o0e","../../../server/src/ui/app.css":"W+FR","./app.css":"QBQ+","./routes/landing/landing.jsx":"tQ/K","./routes/comparison/comparison.jsx":"ROJz","./components/lhci-components.jsx":"jSTM","./components/report-upload-box.jsx":"7RqH","./components/toast.jsx":"QAPf"}],"OHmn":[function(require,module,exports) {
"use strict";var e=require("preact"),r=require("./app.jsx");(0,e.render)((0,e.h)(r.App,null),document.body);
},{"preact":"PBm5","./app.jsx":"pRI3"}]},{},["OHmn"], null)
//# sourceMappingURL=entry.a0037bab.js.map